<!DOCTYPE html>
<html>
<head>
    <title>PWA Icon Generator</title>
    <style>
        .icon-canvas { border: 1px solid #ccc; margin: 10px; }
        .icon-preview { display: inline-block; margin: 10px; text-align: center; }
    </style>
</head>
<body>
    <h1>PWAåº”ç”¨å›¾æ ‡ç”Ÿæˆå™¨</h1>
    
    <div id="preview"></div>
    
    <script>
    // å›¾æ ‡å°ºå¯¸é…ç½®
    const iconSizes = [72, 96, 128, 144, 152, 192, 384, 512];
    
    iconSizes.forEach(size => {
        // åˆ›å»ºcanvas
        const canvas = document.createElement('canvas');
        canvas.width = size;
        canvas.height = size;
        const ctx = canvas.getContext('2d');
        
        // ç»˜åˆ¶èƒŒæ™¯
        ctx.fillStyle = '#1677ff';
        ctx.fillRect(0, 0, size, size);
        
        // ç»˜åˆ¶åœ†è§’
        ctx.beginPath();
        const radius = size * 0.1;
        ctx.roundRect(0, 0, size, size, radius);
        ctx.clip();
        
        // é‡æ–°ç»˜åˆ¶èƒŒæ™¯
        ctx.fillStyle = '#1677ff';
        ctx.fillRect(0, 0, size, size);
        
        // ç»˜åˆ¶emoji
        ctx.fillStyle = '#ffffff';
        ctx.font = `${size * 0.5}px Arial`;
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText('ğŸ’°', size/2, size/2);
        
        // åˆ›å»ºä¸‹è½½é“¾æ¥
        const link = document.createElement('a');
        link.download = `icon-${size}.png`;
        link.href = canvas.toDataURL();
        
        const preview = document.createElement('div');
        preview.className = 'icon-preview';
        preview.innerHTML = `
            <div>${size}x${size}</div>
            <canvas class="icon-canvas" width="${Math.min(size, 128)}" height="${Math.min(size, 128)}"></canvas>
            <br>
            <button onclick="this.parentNode.querySelector('a').click()">ä¸‹è½½</button>
        `;
        
        // ç»˜åˆ¶é¢„è§ˆ
        const previewCanvas = preview.querySelector('canvas');
        const previewCtx = previewCanvas.getContext('2d');
        const previewSize = Math.min(size, 128);
        previewCtx.drawImage(canvas, 0, 0, size, size, 0, 0, previewSize, previewSize);
        
        preview.appendChild(link);
        document.getElementById('preview').appendChild(preview);
    });
    
    // ç”Ÿæˆfavicon
    const faviconCanvas = document.createElement('canvas');
    faviconCanvas.width = 32;
    faviconCanvas.height = 32;
    const faviconCtx = faviconCanvas.getContext('2d');
    
    faviconCtx.fillStyle = '#1677ff';
    faviconCtx.fillRect(0, 0, 32, 32);
    faviconCtx.fillStyle = '#ffffff';
    faviconCtx.font = '20px Arial';
    faviconCtx.textAlign = 'center';
    faviconCtx.textBaseline = 'middle';
    faviconCtx.fillText('ğŸ’°', 16, 16);
    
    const faviconLink = document.createElement('a');
    faviconLink.download = 'favicon.ico';
    faviconLink.href = faviconCanvas.toDataURL();
    
    const faviconDiv = document.createElement('div');
    faviconDiv.innerHTML = `
        <h3>Favicon (32x32)</h3>
        <canvas width="32" height="32"></canvas>
        <br>
        <button onclick="this.querySelector('a').click()">ä¸‹è½½ favicon.ico</button>
    `;
    faviconDiv.querySelector('canvas').getContext('2d').drawImage(faviconCanvas, 0, 0);
    faviconDiv.appendChild(faviconLink);
    document.getElementById('preview').appendChild(faviconDiv);
    </script>
</body>
</html>